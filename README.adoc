= PgBouncer Operator

This is a https://www.pgboncer.org[PgBouncer] Operator to install on OpenShift 4.

== Installation

Create a _pgbouncer-operator_ Namespace:

----
kubectl create namespace pgbouncer-operator
----

Register the CRD with the Kubernetes apiserver:

----
kubectl create -f deploy/crds/pgbouncer-operator.io_pgbouncers_crd.yaml
----

Setup RBAC and deploy the pgbouncer-operator:

----
kubectl create -f deploy/service_account.yaml
kubectl create -f deploy/role.yaml
kubectl create -f deploy/role_binding.yaml
kubectl create -f deploy/operator.yaml
----

== Deploy a PgBouncer CR

There is an example PgBouncer Custom Resource (CR) included:

----
cat deploy/crds/pgbouncer-operator.io_v1alpha1_pgbouncer_cr.yaml
apiVersion: pgbouncer-operator.io/v1alpha1
kind: PgBouncer
metadata:
  name: example-pgbouncer
spec:
  size: 3
----

Create the PgBouncer Custom Resource:

----
kubectl apply -f deploy/crds/pgbouncer-operator.io_v1alpha1_pgbouncer_cr.yaml
----

== Uninstall

----
kubectl delete -f deploy/crds/pgbouncer-operator.io_pgbouncers_crd.yaml
kubectl delete -f deploy/operator.yaml
kubectl delete -f deploy/role_binding.yaml
kubectl delete -f deploy/role.yaml
kubectl delete -f deploy/service_account.yaml
----

== Licensing

PgBouncer Operator is licensed under the Apache License, Version 2.0. See LICENSE for the full license text.

Contributions are welcome under the terms of this license.
